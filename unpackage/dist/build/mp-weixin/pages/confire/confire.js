(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/confire/confire"],{"1ff9":function(e,t,n){"use strict";var o=n("d7d5"),a=n.n(o);a.a},"4a96":function(e,t,n){"use strict";n.r(t);var o=n("4eb1"),a=n("f1cd");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("1ff9");var s=n("f0c5"),i=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=i.exports},"4eb1":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var o=function(){var e=this,t=e.$createElement,n=(e._self._c,e.selectIds.length),o=n>0?e.selectIds.length:null,a=e.__map(e.reserve.passenger,(function(t,n){var o=e.__get_orig(t),a=e.selectIds.indexOf(t.id);return{$orig:o,g2:a}}));e.$mp.data=Object.assign({},{$root:{g0:n,g1:o,l0:a}})},a=[]},d7d5:function(e,t,n){},de83:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("2246"),r=n("7789"),s={data:function(){return{reserve:{},selectIds:[],totalPrice:0,from:"",id:"",number:0,msg_phone:"",pageParams:{}}},computed:{},onShow:function(){var t=this,n=getCurrentPages(),o=n[n.length-1];1==o.data.isDoRefresh&&(o.data.isDoRefresh=!1,(0,a.MemberTicketReserve)({from:this.pageParams.from,id:this.pageParams.id,number:this.pageParams.number},(function(n){0===n.code?(t.reserve=n.data,"tour"==t.from&&(t.totalPrice=t.number*t.reserve.price),console.log(t.reserve)):e.showModal({title:"错误提示",content:"网络异常，请稍后重试",showCancel:!1})})))},onLoad:function(t){console.log("params.selectDate:"+t.selectDate);var n=this;n.from=t.from,n.id=t.id,n.number=t.number,n.pageParams=t,(0,a.MemberTicketReserve)({from:t.from,id:t.id,number:t.number,select_date:t.selectDate},(function(t){0===t.code?(n.reserve=t.data,"tour"==n.from&&(n.totalPrice=n.number*n.reserve.price),console.log(n.reserve)):e.showModal({title:"错误提示",content:"网络异常，请稍后重试",showCancel:!1})}))},methods:{link:function(t){e.navigateTo({url:t})},addSelect:function(e){var t=this.selectIds.indexOf(e);console.log(t),t<0?this.selectIds.push(e):this.selectIds.splice(t,1),"ferry"==this.from&&(this.totalPrice=this.selectIds.length*this.reserve.price)},edit:function(t){e.navigateTo({url:"/pages/add_people/add_people?id="+t})},PrePay:function(){0!==this.selectIds.length?0!==this.msg_phone.length?(0,r.PrePay)({id:this.id,from:this.from,select_ids:this.selectIds,number:this.number,msg_phone:this.msg_phone},(function(t){0===t.code?o.requestPayment({timeStamp:t.data.timeStamp,nonceStr:t.data.nonceStr,package:t.data.package,signType:t.data.signType,paySign:t.data.paySign,success:function(t){e.navigateTo({url:"/pages/user/user"})},fail:function(t){e.showModal({title:"提示",content:"已取消支付",showCancel:!1})},complete:function(e){console.log("complete:"+t)}}):e.showModal({title:"错误提示",content:"网络异常，请稍后重试",showCancel:!1})})):e.showToast({title:"请填写联系人号码",icon:"none",duration:2e3}):e.showToast({title:"请选择乘机人",icon:"none",duration:2e3})}}};t.default=s}).call(this,n("543d")["default"],n("bc2e")["default"])},f1cd:function(e,t,n){"use strict";n.r(t);var o=n("de83"),a=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},f8de:function(e,t,n){"use strict";(function(e,t){var o=n("4ea4");n("b783");o(n("66fd"));var a=o(n("4a96"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])}},[["f8de","common/runtime","common/vendor"]]]);