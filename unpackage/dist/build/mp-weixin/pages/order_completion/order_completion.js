(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order_completion/order_completion"],{"0720":function(t,e,n){"use strict";(function(t,e){var o=n("4ea4");n("b783");o(n("66fd"));var a=o(n("078e"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"078e":function(t,e,n){"use strict";n.r(e);var o=n("335e"),a=n("f289");for(var c in a)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(c);n("5ddb"),n("d01b");var r=n("f0c5"),i=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"0d7a338e",null,!1,o["a"],void 0);e["default"]=i.exports},"29c9":function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("39ce"),c=n("7789"),r={components:{ayQrcode:function(){Promise.all([n.e("common/vendor"),n.e("compontents/ay-qrcode/ay-qrcode")]).then(function(){return resolve(n("3f8d"))}.bind(null,n)).catch(n.oe)}},data:function(){return{detail:{},modalQr:!1,qrUrl:"",used:!1,cancel:!1,statusStr:""}},onLoad:function(e){var n=this;(0,a.orderDetail)({id:parseInt(e.id)},(function(e){0===e.code?(n.detail=e.data,n.detail.pay_order.status_int>3&&(n.used=!0),n.detail.pay_order.status_int>0&&(n.qrUrl="https://hzthxcx.cohc.citic/pqr/check?id="+n.detail.pay_order.order_id,n.showQrcode(),n.statusStr=(0,a.OrderStatusStr)(n.detail.pay_order.status_int))):t.showModal({title:"错误提示",content:"网络异常，请稍后重试",showCancel:!1})}))},methods:{showQrcode:function(){var t=this;this.modalQr=!0,setTimeout((function(){t.$refs.qrcode.crtQrCode()}),100)},hideQrcode:function(){this.modalQr=!1},cancelOrder:function(e){var n=this;t.showModal({cancelText:"取消",confirmText:"确认",title:"确认提示",content:"确定取消该订单?",confirmColor:"#3B8BFF",cancelColor:"#222222",success:function(o){o.confirm?(0,a.cancelOrder)({order_id:parseInt(e)},(function(e){0===e.code?(t.showToast({title:"订单取消成功",icon:"none"}),n.detail.pay_order.status_int=4,n.statusStr=(0,a.OrderStatusStr)(n.detail.pay_order.status_int),n.used=!0):t.showModal({title:"错误提示",content:"网络异常，请稍后重试",showCancel:!1})})):o.cancel&&console.log("cancel")}})},againPrePay:function(e){(0,c.AgainPrePay)({order_id:e},(function(e){0===e.code?o.requestPayment({timeStamp:e.data.timeStamp,nonceStr:e.data.nonceStr,package:e.data.package,signType:e.data.signType,paySign:e.data.paySign,success:function(e){t.navigateTo({url:"/pages/user/user"})},fail:function(e){t.showModal({title:"提示",content:"已取消支付",showCancel:!1})},complete:function(t){console.log("complete:"+e)}}):t.showModal({title:"错误提示",content:"网络异常，请稍后重试",showCancel:!1})}))},againBuy:function(e,n){"tour"==e&&(console.log(e),console.log(n),t.navigateTo({url:"/pages/list/info?id="+n}))}}};e.default=r}).call(this,n("543d")["default"],n("bc2e")["default"])},"335e":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var o=function(){var t=this.$createElement;this._self._c},a=[]},"5ddb":function(t,e,n){"use strict";var o=n("72c0"),a=n.n(o);a.a},"72c0":function(t,e,n){},b4ac:function(t,e,n){},d01b:function(t,e,n){"use strict";var o=n("b4ac"),a=n.n(o);a.a},f289:function(t,e,n){"use strict";n.r(e);var o=n("29c9"),a=n.n(o);for(var c in o)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(c);e["default"]=a.a}},[["0720","common/runtime","common/vendor"]]]);